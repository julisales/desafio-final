<div class="sign container__max">
    <div class="sign__content">
        <img src="../img/lumo-welcome.png" alt="Personagem Lumo de braços abertos">
        <h1 class="sign__title">Bem-vindo ao <span>Phocus</span>!</h1>
        <p class="sign__description">Transforme suas metas em conquistas!</p>
    </div>
    
    <div class="box-form">
        <div class="header">
            <h2>Acesse sua conta</h2>
            <p>Entre ou crie uma conta para começar</p>
        </div>

        <div class="tabs">
            <div class="tab" [class.active]="activeTab === 'login'" (click)="switchTab('login')">
                Entrar
            </div>
            <div class="tab" [class.active]="activeTab === 'register'" (click)="switchTab('register')">
                Registrar
            </div>
        </div>

        <!-- Login Form -->
        <form *ngIf="activeTab === 'login'" class="form active" (ngSubmit)="onLogin()" [formGroup]="loginForm">
            <div class="form-group">
                <label for="login-email">Email</label>
                <input 
                    type="email" 
                    id="login-email" 
                    placeholder="seu@email.com" 
                    formControlName="email"
                    [class.error]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
                <div class="error-message" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
                    <span *ngIf="loginForm.get('email')?.errors?.['required']">Email é obrigatório</span>
                    <span *ngIf="loginForm.get('email')?.errors?.['email']">Email inválido</span>
                </div>
            </div>
            <div class="form-group">
                <label for="login-password">Senha</label>
                <input 
                    type="password" 
                    id="login-password" 
                    placeholder="*********" 
                    formControlName="password" 
                    [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                <div class="error-message" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                    <span *ngIf="loginForm.get('password')?.errors?.['required']">Senha é obrigatória</span>
                </div>
            </div>
            <a routerLink="/forgot-password" class="forgot-password">Esqueceu a senha?</a>
            <button type="submit" class="btn" [disabled]="loginForm.invalid">Entrar</button>
            <a routerLink="/" class="back-link">
                <i class="ti ti-arrow-left"></i>
                Voltar para a página inicial
            </a>
        </form>

        <!-- Register Form -->
        <form *ngIf="activeTab === 'register'" class="form active" (ngSubmit)="onRegister()" [formGroup]="registerForm">
            <div class="form-group">
                <label for="register-name">Nome completo</label>
                <input 
                    type="text" 
                    id="register-name" 
                    placeholder="Seu nome completo" 
                    formControlName="name"
                    [class.error]="registerForm.get('name')?.invalid && registerForm.get('name')?.touched">
                <div class="error-message" *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched">
                    <span *ngIf="registerForm.get('name')?.errors?.['required']">Nome é obrigatório</span>
                </div>
            </div>
            <div class="form-group">
                <label for="register-email">Email</label>
                <input 
                    type="email" 
                    id="register-email" 
                    placeholder="seu@email.com" 
                    formControlName="email"
                    [class.error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                <div class="error-message" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
                    <span *ngIf="registerForm.get('email')?.errors?.['required']">Email é obrigatório</span>
                    <span *ngIf="registerForm.get('email')?.errors?.['email']">Email inválido</span>
                </div>
            </div>
            <div class="form-group">
                <label for="register-password">Senha</label>
                <input 
                    type="password" 
                    id="register-password" 
                    placeholder="*********" 
                    formControlName="password" 
                    [class.error]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                <div class="error-message" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
                    <span *ngIf="registerForm.get('password')?.errors?.['required']">Senha é obrigatória</span>
                    <span *ngIf="registerForm.get('password')?.errors?.['minlength']">
                        Senha deve ter pelo menos 6 caracteres
                    </span>
                </div>
            </div>
            <div class="form-group">
                <label for="register-confirm-password">Confirmar senha</label>
                <input 
                    type="password" 
                    id="register-confirm-password" 
                    placeholder="*********" 
                    formControlName="confirmPassword" 
                    [class.error]="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
                <div class="error-message" *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
                    <span *ngIf="registerForm.get('confirmPassword')?.errors?.['required']">Confirmação de senha é obrigatória</span>
                </div>
            </div>
            <button type="submit" class="btn" [disabled]="registerForm.invalid">Criar conta</button>
            <a routerLink="/" class="back-link">
                <i class="ti ti-arrow-left"></i>
                Voltar para a página inicial
            </a>
        </form>
    </div>
</div>